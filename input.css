@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent horizontal scroll globally */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

@layer base {
  /* Font imports - using existing local fonts */
  @font-face {
    font-family: 'Noto Sans';
    src: url('./fonts/NotoSans-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
  }
  
  @font-face {
    font-family: 'Noto Sans';
    src: url('./fonts/NotoSans-SemiBold.ttf') format('truetype');
    font-weight: 600;
    font-style: normal;
  }
  
  @font-face {
    font-family: 'Noto Sans';
    src: url('./fonts/NotoSans-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply font-sans text-earth-brown antialiased;
  }
}

@layer components {
  /* Section Container - Clean Tailwind-only approach */
  .section-container {
    /* Full-width container with responsive paddings using real Tailwind utilities */
    @apply box-border w-full max-w-7xl mx-auto
           px-5         /* 20px mobile */
           sm:px-12     /* 48px ≥640px */
           lg:px-16     /* 64px ≥1024px */
           xl:px-20     /* 80px ≥1280px */
           2xl:px-24;   /* 96px ≥1536px */
  }
  
  /* Button variants */
  .btn-primary {
    @apply inline-block px-12 py-4 bg-brand-gold text-white font-semibold rounded-lg 
           hover:bg-gold-dark transition-all duration-300 
           focus:outline-none focus:ring-2 focus:ring-brand-gold focus:ring-offset-2
           cursor-pointer text-center;
  }
  
  .btn-secondary {
    @apply inline-block px-12 py-4 bg-transparent text-white font-semibold rounded-lg 
           border-2 border-white hover:bg-white hover:text-earth-brown 
           transition-all duration-300 focus:outline-none focus:ring-2 
           focus:ring-white focus:ring-offset-2 cursor-pointer text-center;
  }
  
  /* Form inputs */
  .input-field {
    @apply w-full px-4 py-3 bg-white border border-gold-dark rounded-lg
           text-earth-brown placeholder-earth-medium
           focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent
           transition-all duration-200;
  }
  
  .textarea-field {
    @apply w-full px-4 py-3 bg-white border border-gold-dark rounded-lg
           text-earth-brown placeholder-earth-medium
           focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent
           transition-all duration-200 min-h-[150px] resize-y;
  }
  
  /* Label styling */
  .form-label {
    @apply block text-earth-brown font-semibold mb-2;
  }
  
  /* Section heading styles */
  .section-heading {
    @apply text-section text-earth-dark font-bold mb-8 leading-tight;
  }
  
  @screen lg {
    .section-heading {
      @apply text-3xl mb-6;
    }
  }
  
  @screen sm {
    .section-heading {
      @apply text-2xl mb-4;
    }
  }
  
  /* Spiritual guru card */
  .guru-card {
    @apply flex flex-col items-center gap-1;
  }
  
  .guru-image {
    @apply w-[100px] h-[100px] rounded-lg overflow-hidden;
  }
  
  .guru-name {
    @apply text-[8px] text-earth-brown text-center;
  }
}

@layer utilities {
  /* Complex gradient background for body */
  .bg-gradient-spiritual {
    background: 
      radial-gradient(90% 60% at 50% 100%, rgba(255, 230, 154, 0.40) 0%, rgba(255, 230, 154, 0.00) 60%), 
      linear-gradient(180deg, rgba(255, 248, 207, 0.70) 0%, rgba(255, 253, 245, 0.70) 40%, rgba(255, 253, 242, 0.70) 100%), 
      #FFFFFF;
  }
  
  /* Hero background positioning is now handled by Tailwind arbitrary values in HTML */
  
  /* Gurus scroll visibility - separate from Tailwind's hidden utility */
  .gurus-hidden {
    display: none !important;
  }
  
  /* === STICKY MEDIA STYLES === */
  
  /* CSS variable for sticky top position (navbar height + gap) */
  :root { 
    --stick-top: 96px; /* Default fallback, JS will update this dynamically */
  }

  /* Sticky media container */
  .sticky-media {
    position: sticky;
    top: var(--stick-top);
    align-self: start;     /* In CSS grid, keeps it pinned to the start line */
    z-index: 1;            /* Ensure it stays above content but below navbar */
  }

  /* Disable sticky on mobile */
  @media (max-width: 767px) {
    .sticky-media { 
      position: static; 
      top: auto; 
    }
  }

  /* === DATA-ATTRIBUTE ANIMATION SYSTEM === */
  
  /* Base animation state - all animated elements start hidden */
  [data-animate] {
    opacity: 0;
    transition: opacity 0.6s ease, transform 0.6s ease;
    will-change: opacity, transform;
  }

  /* Animation variants - define initial transform states */
  [data-animate="fade"] {
    transform: none;
  }
  
  [data-animate="up"] {
    transform: translateY(20px);
  }
  
  [data-animate="left"] {
    transform: translateX(-20px);
  }
  
  [data-animate="right"] {
    transform: translateX(20px);
  }

  /* When element becomes visible */
  [data-animate].visible {
    opacity: 1;
    transform: none;
  }

  /* Respect user's reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    [data-animate] {
      opacity: 1 !important;
      transform: none !important;
      transition: none !important;
    }
  }

  /* IMPORTANT: Sticky images should be immediately visible, no animation */
  .sticky-media img,
  .sticky-media [data-animate] {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
    transition: none !important;
  }
  
  /* Navbar - translucent on hero section (default) */
  .navbar {
    @apply bg-black/30 backdrop-blur-sm;
  }
  
  /* Navbar background when scrolled to second section */
  .navbar-scrolled {
    @apply bg-[#FFF9E6]/95 backdrop-blur-md border-b border-[#D4AF37]/30;
  }
  
  /* Show gurus when at top */
  .navbar:not(.navbar-scrolled) .spiritual-gurus {
    @apply opacity-100 h-auto;
  }
  
  /* Navbar links - white by default, dark when scrolled */
  .navbar-link {
    @apply text-white text-sm font-normal;
  }
  
  .navbar-scrolled .navbar-link {
    @apply text-earth-dark;
  }
  
  /* Spiritual gurus smooth collapse */
  .spiritual-gurus {
    transition: max-height 0.3s ease-out, opacity 0.3s ease-out, padding 0.3s ease-out, margin 0.3s ease-out;
    max-height: 100px;
    overflow: visible;
  }
  
  /* Hide spiritual gurus when scrolled */
  .navbar-scrolled .spiritual-gurus {
    @apply hidden;
  }
  
  /* Section backgrounds */
  .bg-section-cream {
    background: linear-gradient(180deg, 
      rgba(255, 248, 207, 0.70) 0%, 
      rgba(255, 253, 245, 0.70) 40%, 
      rgba(255, 253, 242, 0.70) 100%);
  }
}
