<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Institute of Universal Self-Consciousness Movement</title>
  <meta name="description"
    content="Bringing ancient Vedic wisdom to life through Meditation and Universal Consciousness" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="images/logo.png" />
  <link rel="shortcut icon" type="image/png" href="images/logo.png" />
  <link rel="apple-touch-icon" href="images/logo.png" />

  <!-- Fonts (Using local fonts from fonts folder) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Rashi+Hebrew:wght@400;500;600;700&display=swap"
    rel="stylesheet" />

  <!-- Tailwind CSS Output -->
  <!-- <link rel="stylesheet" href="./dist/output.css"> -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Animation CSS - Inline with !important to override compiled CSS -->
  <style>
    :root {
      --stick-top: 96px;
      --hero-padding-top: 140px;
    }

    html {
      scroll-behavior: smooth;
    }

    /* Global Typography - Match Figma */
    body {
      font-family: "Noto Sans", sans-serif !important;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-family: "Noto Sans", sans-serif !important;
      font-weight: 700 !important;
    }

    /* Section headings responsive sizing - override Tailwind */
    section h2,
    section h2.text-4xl {
      font-size: 28px !important;
      line-height: 1.2 !important;
    }

    @media (min-width: 640px) {

      section h2,
      section h2.text-4xl {
        font-size: 36px !important;
      }
    }

    /* Ensure Quotes from the Book h3 heading size */
    #book h3 {
      font-size: 24px !important;
      line-height: 1.3 !important;
    }

    p,
    span,
    div {
      font-family: "Noto Sans", sans-serif !important;
    }

    /* Book quotes section - Noto Rashi Hebrew on all devices */
    #book p[style*="Noto Rashi Hebrew"] {
      font-family: "Noto Rashi Hebrew", serif !important;
    }

    button,
    a.bg-\[#C9A961\],
    a[class*="bg-["] {
      font-family: "Noto Sans", sans-serif !important;
      font-weight: 500 !important;
    }

    /* Sticky media - Only on desktop, not on mobile */
    .sticky-media {
      position: static;
    }

    @media (min-width: 768px) {
      .sticky-media {
        position: sticky;
        top: var(--stick-top);
        align-self: start;
        z-index: 1;
      }
    }

    .sticky-media img {
      opacity: 1 !important;
      transform: none !important;
      transition: none !important;
    }

    /* Hero section - EXACT Figma Match */
    #home {
      min-height: 100vh !important;
      min-height: 100dvh !important;
      /* dvh = dynamic viewport height, adapts to browser chrome changes */
      padding-top: 0 !important;
      margin-top: 0 !important;
      background: linear-gradient(to bottom, #2d2008, #1a1410) !important;
      /* Gradient fallback - looks better while image loads */
      position: relative !important;
    }

    /* Hero background image - ensure full coverage */
    #home .absolute.inset-0 {
      min-height: 100vh !important;
      min-height: 100dvh !important;
    }

    /* Optimize hero image rendering and ensure full coverage */
    #home img {
      will-change: transform;
      /* Hint to browser to optimize rendering */
      min-height: 100vh !important;
      min-height: 100dvh !important;
      object-fit: cover !important;
    }

    /* Hero content margin - only on desktop */
    @media (min-width: 1024px) {
      #home .text-white.max-w-\[720px\] {
        margin-top: 64px !important;
      }
    }

    /* Hero grid - proper spacing with consistent responsive padding */
    #home .grid {
      min-height: 100vh !important;
      min-height: 100dvh !important;
      /* Changed to min-height so it can grow with content */
      padding-top: var(--hero-padding-top) !important;
    }

    /* Remove padding on mobile to prevent overflow - now uses CSS variable */
    @media (max-width: 1023px) {
      #home .grid {
        padding-bottom: 0 !important;
      }
    }

    /* Hero content - no additional CSS needed, Tailwind handles it */

    /* Hero heading - EXACT from Figma */
    #home h1 {
      font-family: "Noto Sans", sans-serif !important;
      font-weight: 600 !important;
      font-size: 28px !important;
      /* Mobile */
      line-height: 100% !important;
      letter-spacing: 0.1px !important;
    }

    @media (min-width: 768px) {
      #home h1 {
        font-size: 36px !important;
        /* Tablet */
      }
    }

    @media (min-width: 1024px) {
      #home h1 {
        font-size: 42px !important;
        /* Desktop - EXACT from Figma */
      }
    }

    /* Hero description - Match all other body text */
    #home .text-white\/95 {
      font-family: "Noto Sans", sans-serif !important;
    }

    /* Hero buttons - Match all other buttons */
    #home button {
      font-family: "Noto Sans", sans-serif !important;
      font-weight: 500 !important;
      /* Same as font-medium */
    }

    /* Hero quote - EXACT from Figma: 19px, Medium, 29.45px line-height */
    #home .max-w-xl p:first-child {
      font-family: "Noto Sans", sans-serif !important;
      font-weight: 500 !important;
      /* Medium */
      font-size: 16px !important;
      /* Mobile */
      line-height: 24px !important;
      /* Scaled for mobile */
    }

    @media (min-width: 1024px) {
      #home .max-w-xl p:first-child {
        font-size: 19px !important;
        /* Desktop - EXACT from Figma */
        line-height: 29.45px !important;
        /* EXACT from Figma */
      }
    }

    /* Hero author - EXACT from Figma: 19px, Regular, normal line-height */
    #home .max-w-xl p:last-child {
      font-family: "Segoe UI", sans-serif !important;
      font-weight: 400 !important;
      /* Regular */
      font-size: 15px !important;
      /* Mobile */
      line-height: normal !important;
      /* From Figma */
    }

    @media (min-width: 1024px) {
      #home .max-w-xl p:last-child {
        font-size: 19px !important;
        /* Desktop - EXACT from Figma */
      }
    }

    /* Animation System - DISABLED */
    /* All elements are visible by default - no animations */
    [data-animate] {
      opacity: 1 !important;
      transform: none !important;
    }

    /* Navbar initial state - transparent at top */
    .navbar {
            background-color: rgba(0, 0, 0, 0.3) !important;
      backdrop-filter: blur(4px);

    }

    .navbar-link {
      color: white;
      font-family: "Noto Sans", sans-serif !important;
      font-weight: 600 !important;
      font-size: 16px !important;
      line-height: 20px !important;
      letter-spacing: 0.1px !important;
    }

    /* Navbar background on scroll - cream/yellow when scrolled */
    .navbar-scrolled {
          background: rgba(255, 249, 211, 0.6) !important;
            backdrop-filter: blur(10px) ;
            border-bottom: 1px solid rgba(255, 206, 84, 0.6);
    }

    /* Hamburger menu - initial state (white on transparent navbar) */
    .navbar-toggle span {
      background-color: white !important;
      transition: background-color 0.3s ease !important;
    }

    /* Hamburger menu - change to dark when scrolled */
    .navbar-scrolled .navbar-toggle span {
      background-color: #3a2e12 !important;
    }

    /* Mobile navigation overlay - Full width */
    .mobile-nav {
      transition: transform 0.3s ease-in-out;
    }

    .mobile-nav.active {
      transform: translateX(0) !important;
    }

    /* Mobile menu backdrop */
    .mobile-nav-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 59;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
    }

    .mobile-nav-backdrop.active {
      opacity: 1;
      visibility: visible;
    }

    /* Close button (X) hover effect */
    .mobile-nav-close {
      transition: transform 0.2s ease, color 0.2s ease;
    }

    .mobile-nav-close:hover {
      transform: scale(1.1);
    }

    /* Navbar links - initial state (white on transparent navbar) */
    .navbar-link {
      color: white !important;
      transition: color 0.3s ease !important;
    }

    /* Navbar links - change to dark when scrolled */
    .navbar-scrolled .navbar-link {
      color: #3a2e12 !important;
    }

    /* Gurus initial state */
    .guru-row {
      opacity: 1 !important;
      max-height: 200px !important;
      transition: all 0.3s ease !important;
    }

    /* Gurus hide immediately on scroll - independent of navbar color */
    .guru-row.hidden-scroll {
      opacity: 0 !important;
      max-height: 0 !important;
      padding-top: 0 !important;
      padding-bottom: 0 !important;
      overflow: hidden !important;
      transition: all 0.3s ease !important;
    }

    /* Consistent section padding across all devices */
    .section-container {
      box-sizing: border-box;
      width: 100%;
      max-width: 80rem;
      margin-left: auto;
      margin-right: auto;
      padding-left: 1.5rem !important;
      padding-right: 1.5rem !important;
    }

    @media (min-width: 640px) {
      .section-container {
        padding-left: 2rem !important;
        padding-right: 2rem !important;
      }
    }

    @media (min-width: 768px) {
      .section-container {
        padding-left: 2.5rem !important;
        padding-right: 2.5rem !important;
      }
    }

    @media (min-width: 1024px) {
      .section-container {
        padding-left: 3rem !important;
        padding-right: 3rem !important;
      }
    }

    /* Section vertical spacing consistency */
    section {
      padding-top: 3rem !important;
      padding-bottom: 3rem !important;
    }

    @media (min-width: 768px) {
      section {
        padding-top: 4rem !important;
        padding-bottom: 4rem !important;
      }
    }

    @media (min-width: 1024px) {
      section {
        padding-top: 5rem !important;
        padding-bottom: 5rem !important;
      }
    }

    /* Snackbar Notification Styles */
    .snackbar {
      visibility: hidden;
      min-width: 300px;
      max-width: 500px;
      background-color: #323232;
      color: #fff;
      text-align: left;
      border-radius: 8px;
      padding: 16px 24px;
      position: fixed;
      z-index: 9999;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .snackbar.show {
      visibility: visible;
      animation: snackbar-fadein 0.3s forwards;
    }
    
    .snackbar.hide {
      animation: snackbar-fadeout 0.3s forwards;
    }

    .snackbar.success {
      background-color: #4caf50;
    }

    .snackbar.error {
      background-color: #f44336;
    }

    .snackbar-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    @keyframes snackbar-fadein {
      from {
        bottom: 0;
        opacity: 0;
      }

      to {
        bottom: 30px;
        opacity: 1;
      }
    }

    @keyframes snackbar-fadeout {
      from {
        bottom: 30px;
        opacity: 1;
      }

      to {
        bottom: 0;
        opacity: 0;
      }
    }

    /* Mobile responsive */
    @media (max-width: 640px) {
      .snackbar {
        min-width: calc(100% - 32px);
        max-width: calc(100% - 32px);
        left: 16px;
        right: 16px;
        transform: none;
        bottom: 16px;
      }

      @keyframes snackbar-fadein {
        from {
          bottom: 0;
          opacity: 0;
        }

        to {
          bottom: 16px;
          opacity: 1;
        }
      }

      @keyframes snackbar-fadeout {
        from {
          bottom: 16px;
          opacity: 1;
        }

        to {
          bottom: 0;
          opacity: 0;
        }
      }
    }
  </style>
  
</head>

<body class="overflow-x-hidden" style="
      background: radial-gradient(
          90% 60% at 50% 100%,
          rgba(255, 230, 154, 0.4) 0%,
          rgba(255, 230, 154, 0) 60%
        ),
        linear-gradient(
          180deg,
          rgba(255, 248, 207, 0.7) 0%,
          rgba(255, 253, 245, 0.7) 40%,
          rgba(255, 253, 242, 0.7) 100%
        ),
        #fff;
    ">
  <!-- Navigation with Spiritual Gurus -->
  <nav class="fixed top-0 left-0 right-0 z-50 navbar" id="navbar">
    <div class="section-container">
      <!-- Mobile Gurus Row (Mobile Only at Top) -->
      <div class="guru-row flex lg:hidden justify-between items-center px-5 py-2">
        <div class="flex flex-col items-center">
          <img src="images/sri-krishna.png" alt="Sri Krishna" class="w-10 h-10 object-contain rounded-full" />
        </div>
        <div class="flex flex-col items-center">
          <img src="images/adi-sankaracharya.png" alt="Adi Sankaracharya"
            class="w-10 h-10 object-contain rounded-full" />
        </div>
        <div class="flex flex-col items-center">
          <img src="images/sri-babuji-maharaj.png" alt="Sri Babuji Maharaj"
            class="w-10 h-10 object-contain rounded-full" />
        </div>
        <div class="flex flex-col items-center">
          <img src="images/sri-lalaji-maharaj.png" alt="Sri Lalaji Maharaj"
            class="w-10 h-10 object-contain rounded-full" />
        </div>
      </div>

      <!-- Spiritual Gurus Row (Desktop Only) - Hidden on scroll -->
      <div class="guru-row hidden lg:flex justify-between items-center py-2 spiritual-gurus max-w-7xl mx-auto">
        <!-- Logo on Desktop - Left aligned -->
        <div class="flex flex-col items-center">
          <a href="index.html" class="w-[110px] h-[88px]">
            <img src="images/logo.png" alt="IUSCM Logo" class="w-full h-full object-contain" />
          </a>
        </div>
        <!-- Larger gap after logo -->
        <div class="flex-1 max-w-[220px]"></div>
        <!-- Gurus with equal spacing -->
        <div class="flex items-center justify-between flex-1">
          <div class="flex flex-col items-center">
            <img src="images/sri-krishna.png" alt="Sri Krishna" class="w-12 h-12 object-contain" />
            <span class="text-[10px] text-white mt-1">Sri Krishna</span>
          </div>
          <div class="flex flex-col items-center">
            <img src="images/adi-sankaracharya.png" alt="Adi Sankaracharya" class="w-12 h-12 object-contain" />
            <span class="text-[10px] text-white mt-1">Adi Sankaracharya</span>
          </div>
          <div class="flex flex-col items-center">
            <img src="images/sri-babuji-maharaj.png" alt="Sri Babuji Maharaj" class="w-12 h-12 object-contain" />
            <span class="text-[10px] text-white mt-1">Sri Babuji Maharaj</span>
          </div>
          <div class="flex flex-col items-center">
            <img src="images/sri-lalaji-maharaj.png" alt="Sri Lalaji Maharaj" class="w-12 h-12 object-contain" />
            <span class="text-[10px] text-white mt-1">Sri Lalaji Maharaj</span>
          </div>
        </div>
      </div>
      <!-- Main Navigation -->
      <div class="flex items-center justify-between py-3">
        <!-- Logo - visible on mobile always, on desktop only when scrolled -->
        <a href="index.html"
          class="w-14 h-11 lg:w-[110px] lg:h-[80px] lg:opacity-0 lg:transition-opacity lg:duration-300"
          id="navbar-logo">
          <img src="images/logo.png" alt="IUSCM Logo" class="w-full h-full object-contain" />
        </a>
        <div class="hidden lg:flex items-center gap-16 navbar-menu ml-auto">
          <a href="index.html#about-iuscm" class="navbar-link transition-colors">About IUSCM</a>
          <a href="index.html#about-swamiji" class="navbar-link transition-colors">About Swamiji</a>
          <a href="meditation.html" class="navbar-link transition-colors">Practical Manual to Pranahuti Meditation</a>
          <a href="index.html#contact" class="navbar-link transition-colors">Contact Us</a>
        </div>
        <button class="lg:hidden flex flex-col gap-1 navbar-toggle" aria-label="Toggle navigation menu"
          aria-expanded="false">
          <span class="block w-5 h-0.5"></span>
          <span class="block w-5 h-0.5"></span>
          <span class="block w-5 h-0.5"></span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Mobile Navigation Backdrop -->
  <div class="mobile-nav-backdrop" aria-hidden="true"></div>

  <!-- Mobile Navigation - Full Width -->
  <div class="fixed inset-0 bg-[#FFF9D3] z-[60] transform translate-x-full transition-transform duration-300 mobile-nav  "
    aria-hidden="true">
    <div class="section-container">
      <div class="flex items-center justify-between py-3 ">
        <img src="images/logo.png" alt="IUSCM Logo" class="w-14 h-11" />
        <button class="text-4xl text-earth-dark hover:text-brand-gold mobile-nav-close leading-none font-light"
          aria-label="Close menu">
          Ã—
        </button>
      </div>
    </div>
    <div class="border-t border-[#D4AF37]/20"></div>
    <div class="flex flex-col p-6">
      <a href="index.html#about-iuscm"
        class="py-4 text-earth-dark text-base font-normal hover:text-brand-gold transition-colors border-b border-[#D4AF37]/10">About
        IUSCM</a>
      <a href="index.html#about-swamiji"
        class="py-4 text-earth-dark text-base font-normal hover:text-brand-gold transition-colors border-b border-[#D4AF37]/10">About
        Swamiji</a>
      <a href="meditation.html"
        class="py-4 text-earth-dark text-base font-normal hover:text-brand-gold transition-colors border-b border-[#D4AF37]/10">Practical
        Manual to Pranahuti Meditation</a>
      <a href="index.html#contact"
        class="py-4 text-earth-dark text-base font-normal hover:text-brand-gold transition-colors">Contact Us</a>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="relative isolate" id="home">
    <!-- Background -->
    <div class="absolute inset-0 -z-10">
      <picture>
        <!-- Mobile: use the pre-cropped mobile image where the person is in bottom-left -->
        <source media="(max-width: 1024px)" srcset="images/Hero_image_Mobile.png" />
        <!-- Default / Desktop image -->
        <img src="images/hero-background.jpg" alt="Sunrise over calm ocean with meditating silhouette" loading="eager"
          decoding="async"
          class="h-full w-full object-cover object-[25%_center] xl:object-[25%_center] lg:object-[30%_center] md:object-[35%_center] sm:object-[40%_center] max-[767px]:object-[20%_45%]" />
      </picture>
    </div>

    <!-- Content grid: left 50% is a buffer, right 50% holds content -->
    <div class="section-container">
      <div class="grid grid-cols-1 lg:grid-cols-2 items-center min-h-[100vh] py-4 md:py-8 lg:py-20">
        <!-- Empty left half on desktop keeps the person clear of content -->
        <div class="hidden lg:block"></div>

        <!-- Content -->
        <div class="text-white max-w-[720px] flex flex-col gap-8 px-6 sm:px-4 lg:px-0 mx-auto lg:mx-0 ">
          <!-- Hero Text -->
          <div class="flex flex-col gap-4 text-center lg:text-left">
            <h1 class="text-white">
              Institute of Universal Self Consciousness Movement
            </h1>
            <p class="text-white/95 text-lg leading-[1.6]">
              Bringing ancient Vedic wisdom to life through Meditation and
              Universal Consciousness
            </p>
          </div>

          <!-- Hero Buttons - Hidden on mobile as per Figma -->
          <div class="hidden md:flex gap-4 justify-center lg:justify-start">
            <a href="#magazine"
              class="px-8 py-3 bg-[#C9A961] text-[#2d2308] font-medium text-base rounded-lg hover:bg-[#b89851] transition-colors inline-block text-center">
              Subscribe to Magazine
            </a>
            <a href="index.html#about-iuscm"
              class="px-8 py-3 bg-[#FFF9DB] text-[#2d2308] rounded-lg font-bold border border-[#D2AC67] hover:bg-white hover:text-earth-dark transition-colors text-center">
              Learn More
            </a>
          </div>

          <!-- Hero Quote -->
          <div class="flex flex-col gap-6 text-center lg:text-left max-w-xl mx-auto lg:mx-0">
            <p class="text-white/95 text-[19px] leading-[1.55] font-medium">
              The entire universe and its variety are but mental imagery; the
              unmanifested, homogeneous true Self is the only source and the
              underlying common phenomenon, referred to as the "Universal I"
              or the "Supreme Being."
            </p>
            <p class="text-white/90 text-[19px] text-center lg:text-right">
              â€“ Dr. Satyanarayana Chillapa (Swamiji)
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About IUSCM Section -->
<section
  id="about-iuscm"
  class="relative isolate py-16 sm:py-10 md:py-14 lg:py-12 scroll-m-8 md:scroll-m-11 lg:scroll-m-20  "
>
    <div class="section-container">
      <div class="grid grid-cols-1 md:grid-cols-[1fr_380px] gap-8 md:gap-16 items-start">
        <!-- Text (left) -->
        <article class="flex flex-col gap-5 order-2 md:order-1" data-animate="left">
          <h2 class="text-4xl font-bold text-earth-dark mb-2">About IUSCM</h2>
          <div class="flex flex-col gap-4 text-earth-medium text-lg leading-[1.6]">
            <p>
              The Institute of Universal Self Consciousness Movement ("IUSCM")
              has been established by Dr.Satyanarayana Chillapa ("Swamiji") to
              propagate the Oneness of mankind globally. This is to be
              achieved through the emergence of Universal Self Consciousness
              in every individual.
            </p>
            <p>
              Oneness of mankind is not merely an intellectual understanding;
              it is organically integral to one's Consciousness. It involves
              empirical experience of oneself reflected in all beings, and all
              beings reflected in oneself much like how a father biologically
              feels reflected in all his children. Similarly, great spiritual
              Souls like Lord Krishna, Jesus Christ, and the Prophet Mohammed
              each felt themselves reflected in all of mankind exemplifying
              unity through universal love and brotherhood. This realization
              can be attained through the yogic meditative process.
            </p>
            <p>
              The message of IUSCM empirically demonstrates that the entire
              universe and its variety are but mental imagery; the
              unmanifested, homogeneous true Self is the only source and the
              underlying common phenomenon, referred to as the "Universal I"
              or the "Supreme Being." While this may seem abstract in theory,
              those who practice Meditation ("Dhyana Yoga") and receive the
              Divine Life Force ("Pranahuti") through the willpower of a
              Self-realized Master can experience it intuitively. Upon this
              experience, the essence of universal brotherhood naturally
              arises, as the experiencer clearly recognizes that every other
              being is merely a reflection of oneself, eliminating any real
              basis for enmity or preferential love. This intuitive
              understanding that all beings are forms of the same Supreme
              Being naturally leads to world peace and universal brotherhood.
            </p>
          </div>
        </article>

        <!-- Image (right) - JavaScript Sticky -->
        <aside class="order-1 md:order-2 sticky-media">
          <img src="images/about-iuscm.png" alt="IUSCM Symbol" class="w-full max-w-md h-auto rounded-lg"
            data-animate="right" />
        </aside>
      </div>
    </div>
  </section>

  <!-- About Swamiji Section -->
  <section class="relative isolate py-14 lg:py-12 sm:py-10 scroll-m-8 md:scroll-m-11 lg:scroll-m-20" id="about-swamiji">
    <div class="section-container">
      <div class="grid grid-cols-1 md:grid-cols-[380px_1fr] gap-8 md:gap-16 items-start">
        <!-- Image (left) - JavaScript Sticky -->
        <aside class="order-1 md:max-w-md sticky-media">
          <img src="images/swamiji.png" alt="Dr. Satyanarayana Chillapa (Swamiji)"
            class="w-full max-w-md h-auto rounded-lg" data-animate="left" />
        </aside>

        <!-- Text (right) -->
        <article class="order-2 flex flex-col gap-5" data-animate="right">
          <h2 class="text-4xl font-bold text-earth-dark mb-2">
            About Dr. Satyanarayana Chillapa (Swamiji)
          </h2>
          <div class="flex flex-col gap-4 text-earth-medium text-lg leading-[1.6]">
            <p>
              Swamiji was a senior Professor and University Head of the
              Department, Extension Education, Andhra Pradesh Agricultural
              University, Hyderabad, India.
            </p>
            <p>
              He came from a traditional Indian family devoted to Vedic
              learning and culture, with a deep attachment to the Advaitic
              teachings of Bhagavatpada Sri Adi Sankara. His teachings and
              writings reflect his intuitive insight and mystical revelations
              gained through prolonged practice of Raja Yoga under his Guru.
              He was blessed by his Master, Sri Samartha Sadguru Babuji
              Maharaj, with the grace of "Aja Smruti," a revelatory
              consciousness of the corporeally unborn state, considered the
              highest attainment in Yoga culture. Swamiji's deep faith in his
              Guru, combined with his expertise in analytical research methods
              from contemporary social and behavioral sciences, enabled him to
              empirically validate the effectiveness of the Sahajamarga system
              of Raja Yoga as a tool to explore selected dimensions of Reality
              aligned with the Advaitic School of Thought.
            </p>
            <p>
              Swamiji attained Mahasamadhi in the year 2025, leaving behind a
              rich spiritual legacy that continues to inspire practitioners
              worldwide. Swamiji's profound teachings on Universal Self
              Consciousness and Pranahuti Meditation continue to serve as a
              guiding light for those seeking Self-realization and the
              experience of oneness. Swamiji's life and work serve as an
              insightful source of wisdom and compassion for many spiritual
              aspirants across the globe. His teachings inspired seekers to
              explore enabling them to explore several dimensions of Reality
              and experience spiritual transformation leading to higher
              Consciousness, while fostering greater harmony, peace, and
              universal brotherhood. Based on his Guru's teachings and
              prolonged spiritual practice, he empowered practitioners with
              simple and practical ways to embed meditation into their daily
              spiritual routines.
            </p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Begin Practice Section -->
  <section class="py-16 lg:py-12 sm:py-10" id="practice">
    <div class="section-container">
      <div class="flex flex-col md:grid md:grid-cols-2 gap-8 md:gap-16 items-center">
        <!-- Image (TOP on mobile, RIGHT on desktop) -->
        <div class="order-1 md:order-2 flex justify-center items-center">
          <img src="images/practice-meditation.jpg" alt="Meditation Practice"
            class="w-full max-w-md h-auto rounded-xl object-cover" />
        </div>

        <!-- Text Content (BOTTOM on mobile, LEFT on desktop) -->
        <div class="order-2 md:order-1 flex flex-col gap-6 text-center md:text-left items-center md:items-start">
          <h2 class="text-4xl font-bold text-earth-dark">
            Begin Your Practice
          </h2>
          <p class="text-earth-medium text-lg leading-[1.6]">
            Access the Practical Manual to Pranahuti Meditation - a simple and
            natural method leading to Universal Self Consciousness.
          </p>
          <div class="w-full md:w-auto flex justify-center md:justify-start">
            <a href="meditation.html"
              class="block w-full max-w-[280px] md:w-auto text-center px-6 py-3 bg-[#C9A961] text-[#2d2308] font-medium text-base rounded-lg hover:bg-[#b89851] transition-colors">
              Start Meditating â†’
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Magazine Section -->
<section class="relative isolate py-16">
    <div class="section-container" id="magazine">
      <div class="grid grid-cols-1 md:grid-cols-[400px_1fr] gap-8 md:gap-16 items-start">
        <!-- Image (LEFT on desktop, TOP on mobile) -->
        <div class="order-1 flex justify-start" data-animate="up">
          <img src="images/magazine-cover.png" alt="Quarterly Spiritual Magazine"
            class="w-full max-w-sm h-auto rounded-lg transform -rotate-6" />
        </div>

        <!-- Form Content (RIGHT on desktop, BELOW on mobile) -->
        <div class="order-2 flex flex-col gap-6" data-animate="left">
          <h2 class="text-4xl font-bold text-earth-dark">
            Quarterly Spiritual Magazine
          </h2>
          <p class="text-earth-medium text-lg leading-[1.6]">
            Receive teachings from Self-realized Masters into your inbox.<br />
            Some of the magazine's highlights include:
          </p>
          <ul class="space-y-2 text-earth-medium text-lg">
            <li class="flex items-start gap-2">
              <span class="text-[#D2691E] mt-1">â€¢</span>
              <span>Message from the Masters</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-[#D2691E] mt-1">â€¢</span>
              <span>Vedic wisdom for modern life</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-[#D2691E] mt-1">â€¢</span>
              <span>Real life spiritual experiences from practitioners</span>
            </li>
          </ul>

          <!-- Subscription Form -->
          <form data-validate id="magazine-form" action="javascript:void(0)" class="flex flex-col gap-4 w-full">
            <input type="text"
              class="w-full max-w-[360px] h-12 px-4 py-2 border border-gold-dark/40 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-gold"
              placeholder="Enter your Name" name="name" data-rules="required name" aria-label="Name" />
            <input type="email"
              class="w-full max-w-[360px] h-12 px-4 py-2 border border-gold-dark/40 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-gold"
              placeholder="Enter your email" name="email" data-rules="required email" aria-label="Email" />
            <button type="submit"
              class="w-full max-w-[220px] px-6 py-3 bg-[#C9A961] text-[#2d2308] font-medium text-base rounded-lg hover:bg-[#b89851] transition-colors md:self-start">
              Subscribe to Receive â†’
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Book Section -->
  <section class="relative isolate py-16 lg:py-12 sm:py-10" id="book">
    <div class="section-container">
      <div class="grid grid-cols-1 md:grid-cols-[1fr_420px] gap-8 md:gap-16 items-start">
        <!-- Text (left) -->
        <article class="order-2 md:order-1 flex flex-col gap-6" data-animate="left">
          <h2 class="text-4xl font-bold text-earth-dark">
            Book of Knowledge Divine
          </h2>
          <p class="text-earth-medium text-lg leading-[1.6]">
            The "Book of Knowledge Divine" authored by Swamiji brings to the
            notice of mankind, the concept of Universal Self Consciousness
            which forms the core principle of Life-Eternal and the bed rock of
            Truth. It offers the amazing opportunity and the aesthetic thrill
            of probing the unknown occult field of spiritual and mystical
            adventure besides releasing the Soul instantly from the bondage of
            pain, misery, sorrows and dualities of life as collateral gain. It
            introduces the reader to the hi-tech yogic method and tools of
            Functional Dynamic Meditation helping the reader in the material
            and spiritual welfare.
          </p>

          <div class="flex flex-col gap-4">
            <h3 class="text-2xl font-bold text-earth-dark">
              Quotes from the Book
            </h3>

            <p class="text-earth-medium leading-[1.7] text-lg"
              style="font-family: 'Noto Rashi Hebrew', serif !important">
              ....."It is embarrassing if someone puts the question, have you
              seen God? Of course, the right answer for the above type of
              question depends upon the level of conception of God entertained
              by the enquire. Nonetheless, honestly speaking, a Yogi of
              attainment (Sidha) answers neither in positive nor negative
              term.
            </p>

            <p class="text-earth-medium leading-[1.7] text-lg"
              style="font-family: 'Noto Rashi Hebrew', serif !important">
              Either way, it becomes wrong and false. The only way he can
              answer is to go into dynamic-silence of the Soul ("Atman") and
              from that absolute silence, he lets the enquirer (if he is
              really honest) imbibe (experience) the answer intuitively."
            </p>

            <p class="text-earth-medium leading-[1.7] text-lg"
              style="font-family: 'Noto Rashi Hebrew', serif !important">
              ....."Are you a spiritual speaker ("Sadhaka") or a Yogi of
              attainment ("Sidha")?
            </p>

            <p class="text-earth-medium leading-[1.7] text-lg"
              style="font-family: 'Noto Rashi Hebrew', serif !important">
              Well, I'm not aware. Just as I am not aware of breathing though
              it is essential for my survival, in the same way, I'm in
              constant remembrance of my Master though I am not aware of the
              exercise......"
            </p>

            <p class="text-earth-medium leading-[1.7] text-lg"
              style="font-family: 'Noto Rashi Hebrew', serif !important">
              "Super-imposition of image visions of other devatas and God-men
              of modern era like....were experienced. This type of phenomenon
              occurs when heart is vacuumized of gross micro-impressions
              ("samskara") leading to "Vishudha Satva Manas", that is, a
              divinely purified mind which becomes so hallowed with galvanized
              luster that it reflects the passing astral beings in its
              encompassment....Such a mind can transfer, by embossing the
              vision, astrally on the mids of others who are inclined or
              oriented to a particular Saint or Sage or Maha Purusha...."
            </p>
          </div>

          <div>
            <button disabled class="px-6 py-3 text-base rounded-lg cursor-not-allowed" style="
                  opacity: 0.5;
                  pointer-events: none;
                  background-color: rgba(201, 169, 97, 0.5);
                  color: rgba(45, 35, 8, 0.5);
                  font-weight: 500;
                ">
              Order Now â†’
            </button>
          </div>
        </article>

        <!-- Image (right) - JavaScript Sticky -->
        <aside class="order-1 md:order-2 sticky-media">
          <img src="images/book-cover.png" alt="Book of Knowledge Divine" class="w-full max-w-xs h-auto rounded-lg"
            data-animate="right" />
        </aside>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="py-16 lg:py-12 sm:py-10 scroll-m-8 md:scroll-m-11 lg:scroll-m-20" id="contact" data-animate="up">
    <div class="section-container">
      <h2 class="text-4xl font-bold text-earth-dark mb-3" data-animate="up">
        Contact us
      </h2>
      <p class="text-earth-medium text-lg leading-[1.6] mb-8" data-animate="up" data-animate-delay="100">
        Whether you seek spiritual guidance, or have a question, please share
        your message below:
      </p>

      <!-- Contact Content -->
      <div class="flex flex-col md:grid md:grid-cols-[2fr_1fr] gap-12 md:gap-12">
        <!-- Contact Form -->
        <form class="flex flex-col gap-5" data-validate id="contact-form" data-animate="up" data-animate-delay="150">
          <div>
            <label class="block text-earth-dark font-medium text-base mb-2" for="name">Name</label>
            <input type="text" id="name"
              class="w-full h-12 px-4 py-2 border border-earth-medium/30 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-brand-gold"
              name="name" data-rules="required name" aria-required="true" />
          </div>
          <div>
            <label class="block text-earth-dark font-medium text-base mb-2" for="email">Email</label>
            <input type="email" id="email"
              class="w-full h-12 px-4 py-2 border border-earth-medium/30 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-brand-gold"
              name="email" data-rules="required email" aria-required="true" />
          </div>
          <div>
            <label class="block text-earth-dark font-medium text-base mb-2" for="message">Message</label>
            <textarea id="message"
              class="w-full px-4 py-3 border border-earth-medium/30 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-brand-gold resize-y"
              style="height: 200px" name="message" placeholder="Type your message..." data-rules="required minLength:10"
              aria-required="true"></textarea>
          </div>
          <button type="submit"
            class="w-full md:w-auto px-6 py-3 bg-[#C9A961] text-[#2d2308] font-medium text-base rounded-lg hover:bg-[#b89851] transition-colors">
            Send Message â†’
          </button>
        </form>

        <!-- Contact Info -->
        <div class="flex flex-col gap-12 md:min-w-[250px]" data-animate="right" data-animate-delay="200">
          <!-- Email -->
          <div class="flex flex-col gap-6">
            <svg class="w-6 h-6 text-earth-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <div class="flex flex-col gap-2">
              <h3 class="text-xl font-bold text-earth-dark">Email</h3>
              <a href="mailto:info@iuscm.org" class="hover:text-brand-gold transition-colors underline" style="
                    font-family: 'Noto Sans', sans-serif;
                    font-weight: 400;
                    font-size: 16px;
                    line-height: 150%;
                    letter-spacing: 0;
                    color: #3a2e12;
                  ">info@iuscm.org</a>
            </div>
          </div>

          <!-- Address -->
          <div class="flex flex-col gap-6">
            <svg class="w-6 h-6 text-earth-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            <div class="flex flex-col gap-2">
              <h3 class="text-xl font-bold text-earth-dark">Address</h3>
              <p class="text-earth-medium text-sm leading-[1.6]">
                IUSCM Ashram Headquarters: H. No. 17-1-143/B,<br />
                Old Santoshnagar Colony, Hyderabad,<br />
                India 500059
              </p>
              <a href="https://www.google.com/maps/place/17%C2%B021'00.9%22N+78%C2%B030'10.0%22E/@17.35025,78.5001941,17z/data=!3m1!4b1!4m4!3m3!8m2!3d17.35025!4d78.502769?entry=ttu&g_ep=EgoyMDI1MTAyMi4wIKXMDSoASAFQAw%3D%3D"
                target="_blank" rel="noopener noreferrer"
                class="text-earth-dark hover:text-brand-gold transition-colors inline-flex items-center gap-1 text-base font-medium">
                Get Directions
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-6 text-center" style="
        background: rgba(255, 249, 211, 0.6);
        border-top: 1px solid rgba(255, 206, 84, 0.6);
      ">
    <p style="
          font-family: 'Noto Sans', sans-serif;
          font-weight: 400;
          font-size: 16px;
          line-height: 150%;
          letter-spacing: 0;
          color: #000000;
        ">
      Â© 2025 IUSCM. All rights reserved.
    </p>
  </footer>

  <!-- Snackbar Notification Container -->
  <div id="snackbar" class="snackbar"></div>

  <!-- All JavaScript - Working Version -->
  <script>

    
    console.log("=== IUSCM Website Loaded ===");

    // ===== SNACKBAR NOTIFICATION FUNCTION =====
    let snackbarTimeout = null;
    let isSnackbarShowing = false;
    let lastSnackbarMessage = '';
    let lastSnackbarTime = 0;
    
    function showSnackbar(message, type = "success") {
      const now = Date.now();
      console.log(`[Snackbar] "${message}" (${type})`);
      
      // Prevent duplicate messages within 500ms
      if (message === lastSnackbarMessage && (now - lastSnackbarTime) < 500) {
        console.log('[Snackbar] Blocked: Duplicate message within 500ms');
        return;
      }
      
      // Prevent showing snackbar if one is already showing
      if (isSnackbarShowing) {
        console.log('[Snackbar] Blocked: Already showing a notification');
        return;
      }
      
      isSnackbarShowing = true;
      lastSnackbarMessage = message;
      lastSnackbarTime = now;
      const snackbar = document.getElementById("snackbar");

      // Clear any existing timeout
      if (snackbarTimeout) {
        clearTimeout(snackbarTimeout);
      }

      // Reset snackbar completely
      snackbar.className = "snackbar";
      snackbar.style.animation = 'none';
      
      // Force reflow to restart animation
      void snackbar.offsetHeight;
      
      // Set icon based on type
      const icon = type === "success" ? "âœ“" : "âœ•";

      // Set message with icon
      snackbar.innerHTML = `<span class="snackbar-icon">${icon}</span><span>${message}</span>`;

      // Add type class with a small delay to ensure animation restarts
      setTimeout(() => {
        snackbar.style.animation = '';
        snackbar.className = "snackbar show " + type;
      }, 10);

      // Remove after 4 seconds
      snackbarTimeout = setTimeout(() => {
        snackbar.className = snackbar.className.replace("show", "hide");
        // After animation completes, reset
        setTimeout(() => {
          snackbar.className = "snackbar";
          snackbarTimeout = null;
          isSnackbarShowing = false;
        }, 300);
      }, 4000);
    }

    // ===== ANIMATION SYSTEM DISABLED =====
    (function () {
      "use strict";

      // Make all elements with data-animate visible immediately
      const animatedElements = document.querySelectorAll("[data-animate]");

      animatedElements.forEach((el) => {
        el.style.opacity = "1";
        el.style.transform = "none";
        el.classList.add("visible");
      });

      console.log("[Animations] Disabled - all elements visible immediately");
    })();

    // ===== NAVBAR & STICKY TOP =====
    (function () {
      const navbar = document.getElementById("navbar");
      let initialNavHeight = 0; // Store initial navbar height for hero padding

      if (!navbar) {
        console.error("[Navbar] âŒ Navbar element not found");
        return;
      }

      console.log("[Navbar] Element found:", navbar);

      function updateNavbar() {
        const scrollPos =
          window.pageYOffset ||
          window.scrollY ||
          document.documentElement.scrollTop;

        // Hide gurus immediately when scrolling starts
        const guruRows = document.querySelectorAll(".guru-row");
        const navbarLogo = document.getElementById("navbar-logo");

        if (scrollPos > 10) {
          guruRows.forEach((row) => row.classList.add("hidden-scroll"));
          // Show logo when guru row is hidden
          if (navbarLogo) {
            navbarLogo.classList.remove("lg:opacity-0");
            navbarLogo.classList.add("lg:opacity-100");
          }
        } else {
          guruRows.forEach((row) => row.classList.remove("hidden-scroll"));
          // Hide logo when guru row is visible
          if (navbarLogo) {
            navbarLogo.classList.remove("lg:opacity-100");
            navbarLogo.classList.add("lg:opacity-0");
          }
        }

        // Change navbar color when reaching About IUSCM section
        const aboutSection = document.getElementById("about-iuscm");

        if (aboutSection) {
          const sectionTop = aboutSection.offsetTop;
          const navbarHeight = navbar.offsetHeight;
          const threshold = sectionTop - navbarHeight - 50;

          console.log(
            "[Navbar] Scroll:",
            scrollPos,
            "Threshold:",
            threshold,
            "Section Top:",
            sectionTop
          );

          if (scrollPos >= threshold) {
            if (!navbar.classList.contains("navbar-scrolled")) {
              navbar.classList.add("navbar-scrolled");
              console.log(
                "[Navbar] âœ… Class ADDED - navbar should be cream/yellow now"
              );
            }
          } else {
            if (navbar.classList.contains("navbar-scrolled")) {
              navbar.classList.remove("navbar-scrolled");
              console.log(
                "[Navbar] âŒ Class REMOVED - navbar should be transparent now"
              );
            }
          }
        } else {
          console.warn("[Navbar] About section not found, using fallback");
          // Fallback: change color at 100px scroll
          if (scrollPos > 100) {
            navbar.classList.add("navbar-scrolled");
          } else {
            navbar.classList.remove("navbar-scrolled");
          }
        }
      }

      function updateStickyTop() {
        const navHeight = navbar.offsetHeight;
        const stickyTop = navHeight + 16;
        document.documentElement.style.setProperty(
          "--stick-top",
          `${stickyTop}px`
        );

        // Update hero padding based on initial navbar height (not changing height)
        if (initialNavHeight > 0) {
          const heroPadding = initialNavHeight + 20; // Add some buffer
          document.documentElement.style.setProperty(
            "--hero-padding-top",
            `${heroPadding}px`
          );
        }

        console.log("[Sticky] Updated top:", stickyTop, "Hero padding:", initialNavHeight + 20);
      }

      window.addEventListener("scroll", updateNavbar, { passive: true });
      window.addEventListener("resize", updateStickyTop);
      window.addEventListener("load", () => {
        // Set initial navbar height for hero padding calculation
        initialNavHeight = navbar.offsetHeight;
        console.log("[Navbar] Initial height:", initialNavHeight);

        updateStickyTop();
        updateNavbar();
      });

      // Initial update
      updateStickyTop();
      updateNavbar();

      console.log("[Navbar] âœ… Initialized");

      // Expose test function to console
      window.testNavbar = function () {
        const nav = document.getElementById("navbar");
        console.log("Navbar element:", nav);
        console.log(
          "Has navbar-scrolled class:",
          nav.classList.contains("navbar-scrolled")
        );
        console.log(
          "Computed background:",
          window.getComputedStyle(nav).background
        );

        // Force add class
        nav.classList.add("navbar-scrolled");
        console.log("âœ… Forced navbar-scrolled class added");
        console.log(
          "New background:",
          window.getComputedStyle(nav).background
        );
      };

      console.log(
        "[Navbar] ðŸ’¡ TIP: Run window.testNavbar() in console to test navbar styling"
      );
    })();

    // ===== MOBILE MENU =====
    (function () {
      const toggle = document.querySelector(".navbar-toggle");
      const nav = document.querySelector(".mobile-nav");
      const close = document.querySelector(".mobile-nav-close");
      const backdrop = document.querySelector(".mobile-nav-backdrop");

      if (toggle && nav && close && backdrop) {
        // Open menu
        toggle.addEventListener("click", () => {
          nav.classList.add("active");
          backdrop.classList.add("active");
          document.body.style.overflow = "hidden"; // Prevent scroll
          console.log("[Mobile Menu] Opened");
        });

        // Close menu function
        const closeMenu = () => {
          nav.classList.remove("active");
          backdrop.classList.remove("active");
          document.body.style.overflow = ""; // Restore scroll
          console.log("[Mobile Menu] Closed");
        };

        // Close button
        close.addEventListener("click", closeMenu);

        // Close on backdrop click
        backdrop.addEventListener("click", closeMenu);

        // Close on link click
        nav.querySelectorAll("a").forEach((link) => {
          link.addEventListener("click", closeMenu);
        });

        console.log("[Mobile Menu] âœ… Initialized");
      } else {
        console.error("[Mobile Menu] âŒ Elements not found:", {
          toggle,
          nav,
          close,
          backdrop,
        });
      }
    })();

    // ===== SMOOTH SCROLL =====
    (function () {
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          const href = this.getAttribute("href");
          if (href === "#") return;

          e.preventDefault();
          const target = document.querySelector(href);

          if (target) {
            const navbar = document.getElementById("navbar");
            const navHeight = navbar ? navbar.offsetHeight : 0;
            const targetPos =
              target.getBoundingClientRect().top +
              window.pageYOffset -
              navHeight -
              20;

            window.scrollTo({
              top: targetPos,
              behavior: "smooth",
            });

            console.log("[Smooth Scroll] Scrolled to:", href);
          }
        });
      });

      console.log("[Smooth Scroll] âœ… Initialized");
    })();

    // ===== MAGAZINE SUBSCRIPTION HANDLER =====
    (function () {
      const magazineForm = document.querySelector("#magazine-form");
      const contactForm = document.querySelector("#contact-form");

      // ===== MAGAZINE SUBSCRIPTION HANDLER =====
      if (magazineForm) {
        let isSubmitting = false; // Flag to prevent duplicate submissions
        
        const handleSubmit = async (e) => {
          e.preventDefault();
          e.stopImmediatePropagation(); // Stop other listeners
          
          console.log("[Magazine] Submit event triggered, isSubmitting:", isSubmitting);
          
          // Prevent duplicate submissions
          if (isSubmitting) {
            console.log("[Magazine] Already submitting, ignoring duplicate request");
            return;
          }

          // Get form values
          const name = magazineForm
            .querySelector('input[name="name"]')
            .value.trim();
          const email = magazineForm
            .querySelector('input[name="email"]')
            .value.trim();

          // Validate name
          if (!name) {
            showSnackbar("Please enter your name to subscribe", "error");
            return;
          }

          // Validate email
          if (!email) {
            showSnackbar("Please enter your email to subscribe", "error");
            return;
          }

          // Validate email format
          const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          if (!emailRegex.test(email)) {
            showSnackbar(
              "Please enter a valid email address to subscribe",
              "error"
            );
            return;
          }

          // Set submitting flag and disable button
          isSubmitting = true;
          const submitBtn = magazineForm.querySelector(
            'button[type="submit"]'
          );
          const originalText = submitBtn.textContent;
          submitBtn.disabled = true;
          submitBtn.textContent = "Subscribing...";

          try {
            console.log("[Magazine] Submitting:", { name, email });

            const baseURL =
              window.location.hostname === "localhost" ||
                window.location.hostname === "127.0.0.1"
                ? "http://127.0.0.1:5001/iuscm-e6a1f/us-central1"
                : "https://us-central1-iuscm-e6a1f.cloudfunctions.net";

            // const addSubscriberUrl = `${baseURL}/addSubscriber`;
            const sendEmailUrl = `${baseURL}/sendEmail`;


            const response = await fetch(sendEmailUrl, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ name, email })
            });


            const data = await response.json();
            console.log('[Magazine] Response:', data);

            if (data.success) {
              console.log('[Magazine] Showing success snackbar');
              showSnackbar(data.message, 'success');
              magazineForm.reset();
            } else {
              console.log('[Magazine] Showing error snackbar');
              showSnackbar('Subscription failed: ' + data.error, 'error');
            }
          } catch (error) {
            console.error("[Magazine] Error:", error);
            showSnackbar(
              "Something went wrong. Please try again later.",
              "error"
            );
          } finally {
            isSubmitting = false; // Reset flag
            submitBtn.disabled = false;
            submitBtn.textContent = originalText;
          }
        };
        
        // Add event listener
        magazineForm.addEventListener("submit", handleSubmit);

        console.log("[Magazine] âœ… Subscription form initialized");
      }

      // ===== CONTACT FORM HANDLER =====
      if (contactForm) {
        contactForm.addEventListener("submit", async (e) => {
          e.preventDefault();

          // Get form values
          const name = contactForm
            .querySelector('input[name="name"]')
            .value.trim();
          const email = contactForm
            .querySelector('input[name="email"]')
            .value.trim();
          const message = contactForm
            .querySelector('textarea[name="message"]')
            .value.trim();

          // Validate name
          if (!name) {
            showSnackbar("Name is required to send your message", "error");
            return;
          }

          // Validate email
          if (!email) {
            showSnackbar("Email is required to send your message", "error");
            return;
          }

          // Validate email format
          const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
          if (!emailRegex.test(email)) {
            showSnackbar("Please enter a valid email address", "error");
            return;
          }

          // Validate message
          if (!message) {
            showSnackbar("Message is required to contact us", "error");
            return;
          }

          // Disable button during submission
          const submitBtn = contactForm.querySelector(
            'button[type="submit"]'
          );
          const originalText = submitBtn.textContent;
          submitBtn.disabled = true;
          submitBtn.textContent = "Sending...";

          try {
            console.log("[Contact] Submitting:", { name, email, message });

            // Call Firebase function for contact form
            // Production: https://us-central1-iuscm-e6a1f.cloudfunctions.net/sendContactEmail
            // Local: http://127.0.0.1:5001/iuscm-e6a1f/us-central1/sendContactEmail
            const apiUrl =
              window.location.hostname === "localhost" ||
                window.location.hostname === "127.0.0.1"
                ? "http://127.0.0.1:5001/iuscm-e6a1f/us-central1/sendContactEmail"
                : "https://us-central1-iuscm-e6a1f.cloudfunctions.net/sendContactEmail";

            console.log("[Contact] API URL:", apiUrl);

            const response = await fetch(apiUrl, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ name, email, message }),
            });

            const data = await response.json();
            console.log("[Contact] Response:", data);

            if (data.success) {
              showSnackbar(data.message, "success");
              contactForm.reset();
            } else {
              showSnackbar("Message failed to send: " + data.error, "error");
            }
          } catch (error) {
            console.error("[Contact] Error:", error);
            showSnackbar(
              "Something went wrong. Please try again later.",
              "error"
            );
          } finally {
            // Re-enable button
            submitBtn.disabled = false;
            submitBtn.textContent = originalText;
          }
        });

        console.log("[Contact] âœ… Contact form initialized");
      }
    })();
  </script>
</body>

</html>